(this["webpackJsonpbeutiful-data"]=this["webpackJsonpbeutiful-data"]||[]).push([[0],{151:function(e,t,s){},156:function(e,t,s){},157:function(e,t,s){"use strict";s.r(t);var a=s(2),c=s.n(a),r=s(39),n=s.n(r),i=(s(151),s(6)),l=s(4),o=s(159),j=function(e){return{rank:Number(e.Rank),seassons_played:Number(e["Seassons played"]),club:e.Club,played_games:Number(e["Played games"]),victories:Number(e.Victories),draw:Number(e.Draw),loss:Number(e.Loss),goals_scored:Number(e["Goals scored"]),goals_conceded:Number(e["Goals conceded"]),goal_difference:Number(e["Goal difference"]),points:Number(e.Points)}},b=function(e){return{rank:Number(e.Rank),club:e.Club,gold:Number(e.Gold),big_silver:Number(e["Big silver"]),small_silver:Number(e["Small silver"]),bronze:Number(e.Bronze),points:Number(e.Points)}},d=function(e){var t,s=Object(l.c)(e,(t="played_games",function(e){return e[t]}));return Object(l.d)().domain([0,void 0!==s?s:0]).range([0,375])},m=375,h=20,u=s(1),O=s(40),x=s(0),g=function(e,t,s){return function(t,a){return Object(x.jsx)("rect",{transform:"translate("+a*e+","+s/2+")",className:"medal medal-bronze",cx:0,cy:0,rx:15,width:2,height:s},Object(u.v4)())}},p=function(e,t,s){var a=s/5;return function(c,r){return Object(x.jsx)("circle",{className:"medal medal-little-silver",cx:r*e,cy:t+(r%2===0?2*a-s:s-2*a),r:a},Object(u.v4)())}},v=function(e,t){var s=Object(l.a)()({innerRadius:0,outerRadius:e>t?t:e,startAngle:0,endAngle:Math.PI/2});return function(a,c){return Object(x.jsx)("path",{className:"medal medal-big-silver",transform:"translate("+c*e+","+t+") rotate("+(c%2===0?0:90)+")",d:s||""},Object(u.v4)())}},f=function(e,t,s){return function(a,c){return Object(x.jsx)("rect",{transform:"translate("+c*e+","+(t+(c%2===0?0:2-s))+") rotate("+(c%2===0?-45:45)+")",className:"medal medal-gold",cx:0,cy:0,rx:15,width:2,height:s},Object(u.v4)())}},N=function(e){var t=e.numberMedals,s=e.type,a=e.width,c=e.posX,r=e.posY,n=a/t,i=Object(O.a)(Array(t));return Object(x.jsx)("g",{transform:"translate("+c+",0)",children:"gold"===s?i.map(f(n,r,10)):"big_silver"===s?i.map(v(n,r)):"small_silver"===s?i.map(p(n,r,10)):"bronze"===s?i.map(g(n,0,10)):Object(x.jsx)(x.Fragment,{})})},y=function(e){var t=e.gamesScale,s=e.team,a=e.score,c=e.position,r=e.mouseEnter,n=e.mouseLeave,i=t(s.victories),l=t(s.draw),o=t(s.loss);return Object(x.jsx)("g",{className:"teamStat",transform:"translate(0,"+c*h+")",children:Object(x.jsx)("svg",{width:m,height:h,children:Object(x.jsxs)("g",{transform:"translate("+m/2+",0)",children:[Object(x.jsx)("rect",{transform:"translate("+-m/2+","+(h/2-1.5)+")",className:"stat stat-background",cx:0,cy:0,width:m,height:3},Object(u.v4)()),Object(x.jsx)("rect",{transform:"translate("+-i+","+(h/2-1.5)+")",className:"stat stat-wins",cx:0,cy:0,rx:1,width:i,height:3},Object(u.v4)()),Object(x.jsx)("rect",{transform:"translate("+l+","+(h/2-1.5)+")",className:"stat stat-loss",cx:0,cy:0,rx:1,width:o,height:3},Object(u.v4)()),Object(x.jsx)("rect",{transform:"translate(0,"+(h/2-1.5)+")",className:"stat stat-draw",cx:0,cy:0,rx:1,width:l,height:3},Object(u.v4)()),a?Object(x.jsx)(N,{numberMedals:a.gold,type:"gold",width:i,posX:-i,posY:h/2}):Object(x.jsx)(x.Fragment,{}),a?Object(x.jsx)(N,{numberMedals:a.big_silver,type:"big_silver",width:l,posX:0,posY:h/2}):Object(x.jsx)(x.Fragment,{}),a?Object(x.jsx)(N,{numberMedals:a.small_silver,type:"small_silver",width:l,posX:0,posY:h/2}):Object(x.jsx)(x.Fragment,{}),a?Object(x.jsx)(N,{numberMedals:a.bronze,type:"bronze",width:o,posX:l,posY:h/2}):Object(x.jsx)(x.Fragment,{}),Object(x.jsx)("rect",{transform:"translate("+-m/2+",0)",className:"stat eventBackground",width:m,height:h,onMouseEnter:function(){return r({team:s,position:{x:m/2,y:c*h+2*h},score:a})},onMouseLeave:function(){return n({})}},Object(u.v4)())]})})},Object(u.v4)())},w=function(e,t){return"TOP"===e?"translate(calc( -50% + ".concat(t.x,"px),calc( -100% + (").concat(t.y,"px))"):"LEFT"===e?"translate(calc( ".concat(t.x,"px),calc( -50% + (").concat(t.y,"px))"):"BOTTOM"===e?"translate(calc( -50% + ".concat(t.x,"px),calc( (").concat(t.y,"px))"):"RIGHT"===e?"translate(calc(  -100% + ".concat(t.x,"px),calc( -50% + (").concat(t.y,"px))"):"translate(calc( -50% + ".concat(t.x,"px),calc( -100% + (").concat(t.y,"px))")},T=function(e){return void 0===e||"TOP"===e?"tooltip-top":"LEFT"===e?"tooltip-left":"BOTTOM"===e?"tooltip-bottom":"RIGHT"===e?"tooltip-right":"tooltip-top"},z=function(e){var t=e.value,s=e.position,a=e.opacity,c=e.display,r=void 0===c?"TOP":c;return Object(x.jsx)("div",{id:"tooltip",className:"tooltip "+T(r),style:{transform:w(r,s),opacity:a},children:Object(x.jsx)("div",{className:"tooltip-value",children:t})})},S=function(e){var t=e.data,s=e.scoreData,c=Object(a.useState)({x:100,y:200}),r=Object(i.a)(c,2),n=r[0],l=r[1],o=Object(a.useState)(0),j=Object(i.a)(o,2),b=j[0],m=j[1],O=Object(a.useState)(Object(x.jsx)("p",{})),g=Object(i.a)(O,2),p=g[0],v=g[1],f=Object(a.useCallback)((function(e){v(Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"toolTip-tittle",children:e.team.club}),Object(x.jsxs)("div",{className:"toolTip-sub margin-s",children:["Games  ",Object(x.jsx)("span",{className:"highlight-num",children:e.team.played_games})]}),Object(x.jsxs)("div",{className:"toolTip-sub",children:["Victories ",Object(x.jsx)("span",{className:"highlight-num",children:e.team.victories})]}),Object(x.jsxs)("div",{className:"toolTip-sub",children:["Draw ",Object(x.jsx)("span",{className:"highlight-num",children:e.team.draw})]}),Object(x.jsxs)("div",{className:"toolTip-sub margin-s",children:["Loss ",Object(x.jsx)("span",{className:"highlight-num",children:e.team.loss})]}),Object(x.jsxs)("div",{className:"toolTip-sub",children:["Gold ",e.score?Object(x.jsx)("span",{className:"highlight-num",children:e.score.gold}):Object(x.jsx)("span",{className:"highlight-num",children:"0"})]}),Object(x.jsxs)("div",{className:"toolTip-sub",children:["Big silver ",e.score?Object(x.jsx)("span",{className:"highlight-num",children:e.score.big_silver}):Object(x.jsx)("span",{className:"highlight-num",children:"0"})]}),Object(x.jsxs)("div",{className:"toolTip-sub",children:["Small silver ",e.score?Object(x.jsx)("span",{className:"highlight-num",children:e.score.small_silver}):Object(x.jsx)("span",{className:"highlight-num",children:"0"})]}),Object(x.jsxs)("div",{className:"toolTip-sub",children:["Bronze ",e.score?Object(x.jsx)("span",{className:"highlight-num",children:e.score.bronze}):Object(x.jsx)("span",{className:"highlight-num",children:"0"})]})]})),l({x:e.position.x,y:e.position.y}),m(1)}),[]),N=Object(a.useCallback)((function(e){m(0)}),[]);return Object(x.jsxs)("div",{className:"dataViz",children:[Object(x.jsx)(z,{value:p,position:n,opacity:b,display:"BOTTOM"}),Object(x.jsx)("svg",{width:375,height:t.length*h,children:t.map((function(e,a){return Object(x.jsx)(y,{gamesScale:d(t),team:e,score:s.find((c=e.club,function(e){return e.club===c})),position:a,mouseEnter:f,mouseLeave:N},Object(u.v4)());var c}))})]})},_=function(e){var t=e.size,s=e.figure,a=e.tittle;return Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"flex center",children:[Object(x.jsx)("svg",{width:t,height:t,children:s}),Object(x.jsx)("div",{className:"pacer-h-m"}),Object(x.jsxs)("span",{children:[" ",a]})]})})},k=25,M=Object(l.a)()({innerRadius:0,outerRadius:12.5,startAngle:0,endAngle:Math.PI/2}),B=[{size:k,tittle:"Team",figure:Object(x.jsx)("rect",{transform:"translate(0,12.5)",className:"stat stat-background",cx:0,cy:0,width:k,height:4},Object(u.v4)())},{size:k,tittle:"Victories",figure:Object(x.jsx)("rect",{transform:"translate(0,12.5)",className:"stat stat-wins",cx:0,cy:0,width:k,height:4},Object(u.v4)())},{size:k,tittle:"Draw",figure:Object(x.jsx)("rect",{transform:"translate(0,12.5)",className:"stat stat-draw",cx:0,cy:0,width:k,height:4},Object(u.v4)())},{size:k,tittle:"Loss",figure:Object(x.jsx)("rect",{transform:"translate(0,12.5)",className:"stat stat-loss",cx:0,cy:0,width:k,height:4},Object(u.v4)())},{size:k,tittle:"Golden medals",figure:Object(x.jsx)("rect",{transform:"translate(0,0) rotate(-45)",className:"medal medal-gold",cx:0,cy:0,rx:15,width:2,height:k},Object(u.v4)())},{size:k,tittle:"Big silver medals",figure:Object(x.jsx)("path",{className:"medal medal-big-silver",transform:"translate(6.25,18.75)",d:M||""},Object(u.v4)())},{size:k,tittle:"Small silver medals",figure:Object(x.jsx)("circle",{className:"medal medal-little-silver",cx:12.5,cy:12.5,r:6.25})},{size:k,tittle:"Bronze medals",figure:Object(x.jsx)("rect",{transform:"translate(12.5,0)",className:"medal medal-bronze",cx:0,cy:0,rx:15,width:2,height:k},Object(u.v4)())}],F=function(){return Object(x.jsxs)("div",{className:"legend",children:[Object(x.jsx)("h1",{children:"Swedish soccer team stats"}),Object(x.jsx)("ul",{children:B.map((function(e){return Object(x.jsx)(_,{size:e.size,figure:e.figure,tittle:e.tittle},Object(u.v4)())}))})]})};s(156);var A=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),s=t[0],c=t[1],r=Object(a.useState)(),n=Object(i.a)(r,2),d=n[0],m=n[1];return Object(a.useEffect)((function(){Object(l.b)("./data/AllsvenskanAllStats.csv").then(Object(o.a)(j)).then((function(e){c(e)}))}),[]),Object(a.useEffect)((function(){Object(l.b)("./data/AllsvenskanScore.csv").then(Object(o.a)(b)).then((function(e){m(e)}))}),[]),Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)("header",{className:"App-header",children:[Object(x.jsxs)("div",{className:"flex",children:[void 0!==s&&void 0!==d?Object(x.jsx)(S,{data:s,scoreData:d}):Object(x.jsx)(x.Fragment,{}),Object(x.jsx)("div",{className:"spacer-h"}),Object(x.jsx)(F,{})]}),Object(x.jsxs)("p",{className:"credits",children:["2021 by Jonathan Ramirez for the ",Object(x.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/Dataviz-Stockholm/challenges",children:"D.V.S Challenge N.2"})]})]})})},L=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,160)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,n=t.getTTFB;s(e),a(e),c(e),r(e),n(e)}))};n.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(A,{})}),document.getElementById("root")),L()}},[[157,1,2]]]);
//# sourceMappingURL=main.81f753c0.chunk.js.map